using System.Windows.Input;

namespace Proyecto.Vistas;

public partial class login : ContentPage
{
	ICommand irCommand { get; set; }
	public login()
	{
		InitializeComponent();
		irCommand = new Command(ir);
		BindingContext = this;
	}

	public async void ir()
	{
        string nombre = NombreEntry.Text;
        string apellidos = ApellidosEntry.Text;
        string correo = CorreoEntry.Text;
        string contraseña = PasswordEntry.Text;
        string confirmarContraseña = ConfirmPasswordEntry.Text;

        if (string.IsNullOrWhiteSpace(nombre) || string.IsNullOrWhiteSpace(apellidos) ||
            string.IsNullOrWhiteSpace(correo) || string.IsNullOrWhiteSpace(contraseña))
        {
            await DisplayAlert("Error", "Todos los campos son obligatorios.", "OK");
            return;
        }

        if (contraseña != confirmarContraseña)
        {
            await DisplayAlert("Error", "Las contraseñas no coinciden.", "OK");
            return;
        }

        // Validar que el CheckBox esté marcado
        if (!chkTerminos.IsChecked)
        {
            await DisplayAlert("Error", "Debes aceptar los términos y condiciones.", "OK");
            return;
        }

        await Shell.Current.GoToAsync($"MainPage");
	}
}
